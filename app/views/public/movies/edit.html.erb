<div class="col-md-6 offset-md-1">
<h2>投稿編集</h2>
<% if @movie.errors.any? %>
  <h3><%= @movie.errors.count %>個のエラーが発生しました。</h3>
  <ul>
    <% @movie.errors.full_messages.each do |message| %>
      <li><%= message %></li>
    <% end %>
  </ul>
<% else %>
<% end %>
<%= form_with(model: @movie, local: true) do |f| %>
<div class = "form-group">
  <%= f.label "映画タイトル" %>
  <%= f.text_field :title, class: 'form-control' %>
</div>
<div class = "form-group">
  <%= f.label "感想・評価など" %>
  <%= f.text_area :body, class: 'form-control' %>
</div>
<div class = "form-group">
  <%= f.label "ポスター画像など" %>
  <%= f.file_field :image, placeholder: "ポスター画像など", accept: "image/*", class: 'form-control-file user_image' %>
</div>
<div class="star-edit-group">
    <%= f.label :comfort,'評価', class:'star-title' %>
    <div class="detail-value", id="edit-comf-<%= @movie.id %>"></div>
</div>
<script>
  $('#edit-comf-<%= @movie.id %>').empty();
  $('#edit-comf-<%= @movie.id %>').raty({
    size: 36,
    starOff:  '<%= asset_path('star-off.png') %>',
    starOn : '<%= asset_path('star-on.png') %>',
    starHalf: '<%= asset_path('star-half.png') %>',
    half: true,
    score: <%= @movie.comfort %>,
    scoreName: 'movie[comfort]',
  });
  </script>
<br>
<div class="col-md-5">
 <%= f.collection_select :genre_id, @genres, :id, :name, :prompt => "--ジャンルを選択してください--" %>
</div>
<div class="form-group row justify-content-end">
 <%= f.submit '編集する', class:"btn btn-success" %>
</div>
<% end %>
</div>
